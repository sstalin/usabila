{"version":3,"sources":["scripts/app-a1b627239d.js"],"names":["angular","module","device","byScreenSize","screen","availWidth","service","factory","ratings","count","items","_","countBy","item","rating","get","stub","descriptions","k","id","parseInt","description","push","geoRating","groupByCountry","feedbacks","byCountry","groupBy","next","geo","country","map","iterator","group","total","average","length","toLowerCase","getRatings","GeoRatingController","activate","vm","this","title","$inject","controller","feedback","$http","$q","defered","defer","then","response","status","resolve","data","reject","promise","chart","$window","link","scope","element","attrs","ctrl","$watch","createChart","addEventListener","reset","directive","ChartCtrl","restrict","el","find","remove","lineData","nodes","min_date","d3","min","d","creation_date","max_date","max","interval","Math","ceil","temp","i","bins","pointer","bin","avgRating","avgDate","totalRating","w","clientWidth","h","clientHeight","margin","top","right","bottom","left","svg","select","append","attr","xScale","time","scale","domain","Date","range","xAxis","axis","tickSize","tickPadding","orient","call","yScale","linear","yAxis","ticks","selectAll","insert","valueline","line","x","y","enter","DashboardController","$log","filterBtn","one","matcher","value","two","three","four","five","debug","btnFilter","btn","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","views","","templateUrl","controllerAs","count@dashboard","graph@dashboard","filters@dashboard","table@dashboard","geo@dashboard","otherwise","config","constant","malarkey","moment","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-a1b627239d.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('usabila', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ui.router', 'ui.bootstrap', 'toastr']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('usabila')\n    .factory('device', device);\n\n  /* @ngInject */\n  function device() {\n    var service = {\n      byScreenSize: byScreenSize\n    };\n    return service;\n\n    ////////////////\n\n    function byScreenSize(screen) {\n      if(screen.availWidth <= 400){\n        return 'Mobile';\n      }\n      if(screen.availWidth > 400 && screen.availWidth < 1000){\n        return 'Tablet';\n      }\n      return 'Desktop';\n    }\n  }\n\n})();\n\n\n\n/*global _ */\n(function() {\n  'use strict';\n\n  angular\n    .module('usabila')\n    .factory('ratings', ratings);\n\n  /* @ngInject */\n  function ratings() {\n    var service = {\n      count: count,\n      get: get\n    };\n    return service;\n\n    ////////////////\n\n    function count(items) {\n       return _.countBy(items, function(item){\n            return item.rating;\n       });\n    }\n\n    function get(items){\n      var ratings = [];\n      var descriptions = ['Very Bad', 'Bad', 'Average', 'Good', 'Amazing'];\n      var count = service.count(items);\n      var stub;\n\n      for(var k in count){\n        stub = {\n          id: parseInt(k),\n          description: descriptions[parseInt(k) - 1],\n          count: count[k]\n        };\n        ratings.push(stub);\n      }\n      return ratings;\n    }\n  }\n\n})();\n\n\n\n/*global _ */\n(function() {\n  'use strict';\n\n  angular\n    .module('usabila')\n    .factory('geoRating', geoRating);\n\n  /* @ngInject */\n  function geoRating() {\n    var service = {\n      getRatings: getRatings,\n      groupByCountry: groupByCountry,\n      iterator: iterator\n    };\n    return service;\n\n    ////////////////\n\n    function groupByCountry(feedbacks) {\n      var byCountry = _.groupBy(feedbacks, function(next) {\n        return next.geo.country;\n      });\n      var ratings = _.map(byCountry, iterator);\n      return ratings;\n    }\n\n    function iterator(group){\n      var total = 0;\n      for(var k in group){\n        total += parseInt(group[k].rating);\n      }\n      return {\n        average: total / group.length,\n        country: group[0].geo.country.toLowerCase(),\n        count: group.length\n      }\n    }\n\n    function getRatings(feedbacks) {\n      return groupByCountry(feedbacks);\n    }\n  }\n\n})();\n\n\n\n(function() {\n  'use strict';\n\n  angular\n    .module('usabila')\n    .controller('GeoRatingController', GeoRatingController);\n\n  /* @ngInject */\n  function GeoRatingController(feedbacks, geoRating) {\n    var vm = this;\n    vm.title = 'GeoRatingController';\n\n    activate();\n\n    ////////////////\n\n    function activate() {\n       vm.ratings = geoRating.getRatings(feedbacks);\n    }\n  }\n\n})();\n\n\n\n(function () {\n  'use strict';\n\n  angular\n    .module('usabila')\n    .factory('feedback', feedback);\n\n  /* @ngInject */\n  function feedback($http, $q) {\n    var service = {\n      get: get\n    };\n    return service;\n\n    ////////////////\n\n    function get() {\n      var defered = $q.defer();\n      $http.get('http://cache.usabilla.com/example/apidemo.json').then(function (response) {\n        if (response.status == 200) {\n          defered.resolve(response.data.items);\n        } else {\n          defered.reject('failure');\n        }\n      });\n      return defered.promise;\n    }\n  }\n\n})();\n\n\n/*global _ d3*/\n(function() {\n  'use strict';\n\n  angular\n    .module('usabila')\n    .directive('chart', chart);\n\n  /* @ngInject */\n  function chart($window) {\n    var directive = {\n      controller: ChartCtrl,\n      link: link,\n      restrict: 'A',\n      scope: {data: '=chartData'}\n    };\n    return directive;\n\n    function link(scope, element, attrs, ctrl) {\n      scope.$watch('data', function(data) {\n        if(data) {\n          ctrl.createChart(element[0], data);\n          $window.addEventListener('resize', function() {\n            ctrl.reset(element);\n            ctrl.createChart(element[0], data);\n          })\n        }\n      });\n    }\n  }\n\n\n  /* @ngInject */\n  function ChartCtrl($window) {\n    this.reset = function(el) {\n      el.find('svg').remove();\n    };\n    this.lineData = function(data, nodes) {\n      var min_date = d3.min(data, function(d) {\n        return d.creation_date;\n      });\n\n      var max_date = d3.max(data, function(d) {\n        return d.creation_date;\n      });\n\n      var interval = Math.ceil((max_date - min_date) / nodes);\n\n      var iterator = function(next) {\n        var temp;\n        for(var i = 0; i < nodes; i++) {\n          temp = min_date + (i + 1) * interval;\n          if(next.creation_date < temp) {\n            return i;\n          }\n        }\n      };\n\n      var bins = _.groupBy(data, iterator);\n      var pointer = min_date;\n      var lineData = _.map(bins, function(bin) {\n        var avgRating;\n        var avgDate;\n        var totalRating = 0;\n        //var totalDate = 0;\n        var count = bin.length;\n        for(var i in bin) {\n          // totalDate += parseInt(bin[i].creation_date);\n          totalRating += parseInt(bin[i].rating);\n        }\n        //avgDate = Math.ceil(totalDate / count);\n        avgDate = pointer + interval / 2;\n        pointer += interval;\n        avgRating = totalRating / count;\n        return {\n          avgDate: avgDate,\n          avgRating: avgRating\n        }\n      });\n\n      return lineData;\n    };\n\n\n    this.createChart = function(el, data) {\n      var w = el.clientWidth;\n      var h = el.clientHeight;\n      var margin = {top: 20, right: 10, bottom: 20, left: 30};\n\n      if(!$window.d3) return; // exit if no D3\n\n      var svg = d3.select(el).append('svg')\n        .attr('width', w)\n        .attr('height', h)\n        .attr('viewBox', '0 0 ' + w + ' ' + h);\n\n      var min_date = d3.min(data, function(d) {\n        return d.creation_date;\n      });\n\n      var max_date = d3.max(data, function(d) {\n        return d.creation_date;\n      });\n\n      var xScale = d3.time.scale()\n        .domain([new Date(min_date), new Date(max_date)])\n        .range([0, w - margin.left - margin.right]);\n\n      var xAxis = d3.svg.axis()\n        .tickSize(0)\n        .tickPadding(10)\n        .scale(xScale)\n        .orient('bottom');\n\n      svg.append('g')\n        .attr('class', 'x axis')\n        .attr('transform', 'translate(' + margin.left + ',' + (h - margin.bottom) + ')')\n        .call(xAxis);\n\n\n      var yScale = d3.scale.linear()\n        .domain([1, 5])\n        .range([h - margin.top - margin.bottom, 0]);\n\n      var yAxis = d3.svg.axis()\n        .ticks(5)\n        .tickSize(-(w - margin.right - margin.left))\n        .tickPadding(10)\n        .scale(yScale)\n        .orient('left');\n\n      svg.append('g')\n        .attr('class', 'y axis')\n        .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n        .call(yAxis);\n\n      //circle labels\n      svg.selectAll('.y.axis g').insert('circle', 'line')\n        .attr('r', 10)\n        .attr('fill', '#04A0C4')\n        .attr('cx', -14)\n        .attr('cy', 0);\n\n      //The data for our line\n      var lineData = this.lineData(data, 10);\n      // Define the line\n      var valueline = d3.svg.line()\n        .x(function(d) {\n          return xScale(new Date(d.avgDate));\n        })\n        .y(function(d) {\n          return yScale(d.avgRating);\n        });\n\n      // Add the value line path.\n      svg.append(\"path\")\n        .attr(\"class\", \"line\")\n        .attr(\"d\", valueline(lineData))\n        .attr('transform', 'translate(' + margin.left + ', 0)');\n\n      //append node labels\n      svg.selectAll('.node-label')\n        .data(lineData)\n        .enter().append('circle')\n        .attr('class', 'node-label')\n        .attr('cx', function(d) {\n          return xScale(d.avgDate)\n        })\n        .attr('cy', function(d) {\n          return yScale(d.avgRating)\n        })\n        .attr('r', 5)\n        .attr('transform', 'translate(' + margin.left + ', 0)');\n\n    };\n  }\n\n})();\n\n\n\n/*global _ */\n(function() {\n  'use strict';\n\n  angular\n    .module('usabila')\n    .controller('DashboardController', DashboardController);\n\n  /** @ngInject */\n  function DashboardController(feedbacks, $log, device, ratings) {\n    var vm = this;\n\n    vm.items = feedbacks;\n    vm.btnFilter = btnFilter;\n    vm.device = device.byScreenSize;\n\n\n    activate();\n\n    ////////////////\n\n    function activate() {\n      vm.filterBtn = {\n        one: {id: 1, matcher: {rating: 1}, value: true},\n        two: {id: 2, matcher: {rating: 2}, value: true},\n        three: {id: 3, matcher: {rating: 3}, value: true},\n        four: {id: 4, matcher: {rating: 4}, value: true},\n        five: {id: 5, matcher: {rating: 5}, value: true}\n      };\n      vm.feedbacks = feedbacks;\n      vm.ratings = ratings.get(feedbacks);\n      $log.debug('DashboardController ran');\n    }\n\n    function btnFilter(item) {\n       var btn = _.find(vm.filterBtn, function(btn){\n         return btn.matcher.rating === item.rating;\n       });\n       return btn.value;\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('usabila')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('usabila')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('dashboard', {\n        url: '/',\n        views: {\n          '': {\n            templateUrl: 'app/dashboard/dashboard.html',\n            controller: 'DashboardController',\n            controllerAs: 'vm'\n          },\n          'count@dashboard': {\n            templateUrl: 'app/components/rating-table/rating-table.html'\n          },\n          'graph@dashboard': {\n            templateUrl: 'app/components/chart/chart.html'\n          },\n          'filters@dashboard': {\n            templateUrl: 'app/components/filters/filters.html'\n          },\n          'table@dashboard': {\n            templateUrl: 'app/components/feedback-table/feedback-table.html'\n          },\n          'geo@dashboard': {\n            templateUrl: 'app/components/geo-rating/geo-rating.html',\n            controller: 'GeoRatingController',\n            controllerAs: 'vm'\n          }\n        },\n        resolve: {\n          feedbacks: function(feedback) {\n            return feedback.get();\n          }\n        }\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('usabila')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('usabila')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"usabila\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/dashboard/dashboard.html\",\"<div class=\\\"container-fluid dashboard\\\"><div class=\\\"row\\\"><div ui-view=\\\"count\\\" class=\\\"col-xs-12 col-md-4\\\"></div><div ui-view=\\\"graph\\\" class=\\\"col-xs-12 col-md-8\\\"></div></div><div ui-view=\\\"filters\\\"></div><div ui-view=\\\"table\\\"></div><div class=\\\"row\\\"><div ui-view=\\\"geo\\\" class=\\\"col-xs-12 col-md-6\\\"></div></div></div>\");\n$templateCache.put(\"app/components/chart/chart.html\",\"<div class=\\\"chart-container\\\" chart=\\\"\\\" chart-data=\\\"vm.feedbacks\\\"></div>\");\n$templateCache.put(\"app/components/filters/filters.html\",\"<section class=\\\"row filter-bar\\\"><div class=\\\"col-xs-12 col-md-2 filter-wrap\\\"><input class=\\\"search form-control\\\" type=\\\"text\\\" placeholder=\\\"Search here!\\\" ng-model=\\\"vm.searchText\\\"></div><div class=\\\"col-xs-12 col-md-10 filter-wrap\\\"><label><input type=\\\"checkbox\\\" ng-model=\\\"vm.filterBtn.one.value\\\"> <span class=\\\"rating big\\\" ng-class=\\\"{filterOn: vm.filterBtn.one.value, filterOff: !vm.filterBtn.one.value}\\\">1</span></label> <label><input type=\\\"checkbox\\\" ng-model=\\\"vm.filterBtn.two.value\\\"> <span class=\\\"rating big\\\" ng-class=\\\"{filterOn: vm.filterBtn.two.value, filterOff: !vm.filterBtn.two.value}\\\">2</span></label> <label><input type=\\\"checkbox\\\" ng-model=\\\"vm.filterBtn.three.value\\\"> <span class=\\\"rating big\\\" ng-class=\\\"{filterOn: vm.filterBtn.three.value, filterOff: !vm.filterBtn.three.value}\\\">3</span></label> <label><input type=\\\"checkbox\\\" ng-model=\\\"vm.filterBtn.four.value\\\"> <span class=\\\"rating big\\\" ng-class=\\\"{filterOn: vm.filterBtn.four.value, filterOff: !vm.filterBtn.four.value}\\\">4</span></label> <label><input type=\\\"checkbox\\\" ng-model=\\\"vm.filterBtn.five.value\\\"> <span class=\\\"rating big\\\" ng-class=\\\"{filterOn: vm.filterBtn.five.value, filterOff: !vm.filterBtn.five.value}\\\">5</span></label></div></section>\");\n$templateCache.put(\"app/components/feedback-table/feedback-table.html\",\"<table class=\\\"table table-hover feedback-table\\\"><thead class=\\\"header\\\"><tr><th>Rating</th><th>Comment</th><th>Browser</th><th>Device</th><th>Platform</th></tr></thead><tbody><tr ng-repeat=\\\"item in vm.items | filter:vm.btnFilter | filter:vm.searchText track by item.id\\\"><th scope=\\\"row\\\"><span class=\\\"rating big\\\">{{::item.rating}}</span></th><td><p>{{::item.comment}}</p></td><td class=\\\"text-center\\\"><p>{{::item.computed_browser.Browser}}</p><p>{{::item.computed_browser.Version}}</p></td><td><p>{{vm.device(item);}}</p></td><td><p>{{::item.computed_browser.Platform}}</p></td></tr></tbody></table>\");\n$templateCache.put(\"app/components/geo-rating/geo-rating.html\",\"<table class=\\\"table table-hover geo-table\\\"><thead class=\\\"header\\\"><tr><th>Flag</th><th>Country Code</th><th>Average Rating</th><th>Count</th></tr></thead><tbody><tr ng-repeat=\\\"r in vm.ratings track by $index\\\"><th><span class=\\\"flag\\\" ng-class=\\\"r.country\\\"></span></th><td>{{r.country.toUpperCase();}}</td><td>{{r.average | number:2}}</td><td>{{r.count}}</td></tr></tbody></table>\");\n$templateCache.put(\"app/components/rating-table/rating-table.html\",\"<table class=\\\"table table-hover\\\"><thead><tr><th>Ratings</th><th># Items</th></tr></thead><tbody><tr ng-repeat=\\\"r in vm.ratings track by r.id\\\"><th><span class=\\\"rating small\\\">{{r.id}}</span> <span>{{r.description}}</span></th><td>{{r.count}}</td></tr></tbody></table>\");}]);"],"sourceRoot":"/source/"}